// Copyright Epic Games, Inc. All Rights Reserved.
// This file is automatically generated. Changes to this file may be overwritten.

using System;
using System.Runtime.InteropServices;

namespace Epic.OnlineServices.Presence
{
	/// <summary>
	/// Union storage for template typed values
	/// </summary>
	public struct PresenceModificationSetTemplateDataOptionsValue
	{
		private int? m_AsInt32;
		private Utf8String m_AsStringId;
		private PresenceModificationTemplateType m_ValueType;

		/// <summary>
		/// Localized integer
		/// </summary>
		public int? AsInt32
		{
			get
			{
				if (m_ValueType == PresenceModificationTemplateType.Int)
				{
					return m_AsInt32;
				}

				return default;
			}
			set
			{
				m_AsInt32 = value;
				m_ValueType = PresenceModificationTemplateType.Int;
			}
		}

		/// <summary>
		/// Reference a StringId in the Backend
		/// </summary>
		public Utf8String AsStringId
		{
			get
			{
				if (m_ValueType == PresenceModificationTemplateType.String)
				{
					return m_AsStringId;
				}

				return default;
			}
			set
			{
				m_AsStringId = value;
				m_ValueType = PresenceModificationTemplateType.String;
			}
		}
		public PresenceModificationTemplateType ValueType
		{
			get
			{
				return m_ValueType;
			}
		}

		public static implicit operator PresenceModificationSetTemplateDataOptionsValue(int? value)
		{
			return new PresenceModificationSetTemplateDataOptionsValue() { AsInt32 = value };
		}

		public static implicit operator PresenceModificationSetTemplateDataOptionsValue(Utf8String value)
		{
			return new PresenceModificationSetTemplateDataOptionsValue() { AsStringId = value };
		}

		public static implicit operator PresenceModificationSetTemplateDataOptionsValue(string value)
		{
			return new PresenceModificationSetTemplateDataOptionsValue() { AsStringId = value };
		}
	}

	[StructLayout(LayoutKind.Explicit)]
	internal struct PresenceModificationSetTemplateDataOptionsValueInternal : ISettable<PresenceModificationSetTemplateDataOptionsValue>
	{
		[FieldOffset(0)]
		private int m_AsInt32;
		[FieldOffset(0)]
		private IntPtr m_AsStringId;

		public void Set(ref PresenceModificationSetTemplateDataOptionsValue other)
		{
			Dispose();

			if (other.ValueType == PresenceModificationTemplateType.Int)
			{
				Helper.Set(other.AsInt32, ref m_AsInt32);
			}

			if (other.ValueType == PresenceModificationTemplateType.String)
			{
				Helper.Set(other.AsStringId, ref m_AsStringId);
			}
		}

		public void Dispose()
		{
			Helper.Dispose(ref m_AsStringId);
		}
	}
}
